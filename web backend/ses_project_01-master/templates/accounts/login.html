{% extends "accounts/base.html" %}
{% load static %}
{% block contents %}
<div class="limiter">
	<div class="container-login100">
		<div class="wrap-login100">
            <form class="login100-form validate-form" method="POST" action=".">
                    {% csrf_token %}
                    {% include "./form_errors.html" %}
                <span class="login100-form-title p-b-26">
						Welcome
			    </span>
                <span class="login100-form-title p-b-48">
			    	<i class="zmdi zmdi-font"></i>
			    </span> 


                {% for field in form %}
                <div class="form-group">
                    <label for="{{ field.id_for_label }}" class="control-label sr-only">{{ field.label }}</label>
                    <input type="{{ field.field.widget.input_type }}" class="form-control" id="{{ field.id_for_label }}" placeholder="{{ field.label }}" name="{{ field.name }}" />
                                {% if field.errors %}
                                <span style="color: red">{{ field.errors }}</span>
                                {% endif %}
                                {% endfor %}
				</div>
                <div class="row mt-5">
                    <div class="col-12">    
                        {{ error }}
                    </div>
                </div>
                    <div class="container-login100-form-btn">
                        <div class="wrap-login100-form-btn">
                            <div class="login100-form-bgbtn"></div>
                            <button class="login100-form-btn" type="submit">
                                    Login
                            </button>
                        </div>
                    </div>

{% comment %}--------------------------------------------------  {% endcomment %}
                    <div class="text-center p-t-115">
                        {% comment %} <body>
                            <a href="javascript:kakaoLogin();"><img src="{% static 'img/kakao_login.png' %}" style="height: 70px;"/></a>

                            <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
                            <script>
                                window.Kakao.init('d5b54414b69fd83f18c05cc88ef53d8a');

                                function kakaoLogin() {
                                    window.Kakao.Auth.login({
                                        scope: 'profile, account_email, gender, age_range, birthday', //동의항목 페이지에 있는 개인정보 보호 테이블의 활성화된 ID값을 넣습니다.
                                        success: function(response) {
                                            console.log(response) // 로그인 성공하면 받아오는 데이터
                                            window.Kakao.API.request({ // 사용자 정보 가져오기 
                                                url: '/v2/user/me',
                                                success: (res) => {
                                                    const kakao_account = res.kakao_account;
                                                    console.log(kakao_account)
                                                }
                                            });
                                            // window.location.href='/ex/kakao_login.html' //리다이렉트 되는 코드
                                        },
                                        fail: function(error) {
                                            console.log(error);
                                        }
                                    });
                                }
                            </script>
                        </body> {% endcomment %}
                        <span class="txt1">
                                Don’t have an account?
                        </span>
                        <a class="txt2" href="../register">
                                Sign Up
                        </a>                        
                    </div>
            </form>
        </div>
    </div>
</div>

{% endblock %}
