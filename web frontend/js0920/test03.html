<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Page Title</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <script>
        let a = 10;  // 전역 변수 선언 및 초기화.
        function hello() {
            let b = 20;  // 지역 변수 선언 및 초기화.
            console.log(a);  // 지역 스코프에서 전역 스코프의 변수 호출(O).
            console.log(b);  // 지역 스코프에서 지역 스코프의 변수 호출(O).
        }
        hello();
        console.log(a);  // 전역 스코프에서 전역 스코프의 변수 호출(O).
        // console.log(b);  // 전역 스코프에서 지역 스코프의 변수 호출(X).

        function hi() {  // 전역 함수 정의.
            function bye() {  // 지역 함수 정의.
                console.log("bye");
            }
            console.log("hi");
            hello();  // 지역 스코프에서 전역 스코프의 함수 호출(O);
            bye();  // 지역 스코프에서 지역 스코프의 함수 호출(O);
        }

        hi();  // 전역 스코프에서 전역 스코프의 함수 호출(O);
        // bye();  // 전역 스코프에서 지역 스코프의 함수 호출(X);

        // 클로저(Closure): 전역 함수에서 지역 함수를 반환해주는 형태.
        function outer() {
            function inner() {
                console.log("내부 함수 실행.");
            }
            return inner;
        }
        let something = outer();
        something();

        // 클로저 예제
        function addTag(tag) {
            function addText(text) {
                return "<" + tag + ">" + text + "</" + tag + ">";
            }
            return addText;
        }
        document.write(addTag("h1")("안녕하세요?"));
    </script>
</head>
<body>
    <h1>스코프(Scope)</h1>
    <p>코드 블록을 통해서 만들어진 영역.</p>
    
    <h2>스코프의 종류</h2>
    <ul>
        <li>전역(Global): 가장 바깥쪽 영역.</li>
        <li>지역(local): 코드 블록 안쪽 영역.</li>
    </ul>
    <p>안쪽 스코프에서 바깥쪽 스코프에 접근할 수 있음.</p>
    <p>바깥쪽 스코프에서 안쪽 스코프에 접근할 수 없음.</p>
</body>
</html>